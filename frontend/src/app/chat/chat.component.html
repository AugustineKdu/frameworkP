<div class="container">
  <div class="sidebar-container">
    <button class="add-group-button" (click)="addGroup()">Add Group</button>
    <ul class="group-list">
      <li class="group-list-item" *ngFor="let group of chatGroups">
        <span class="group-name" (click)="selectGroup(group._id)">{{ group.name }}</span>
        <button class="delete-button" (click)="deleteGroup(group._id)">Delete</button>
      </li>
    </ul>
  </div>
  <div class="chat-window-container">
    <h2 class="chat-header" *ngIf="selectedGroup">{{ selectedGroup.name }}</h2>
    <div class="messages-container">
      <!-- ... 이전 코드 ... -->

      <div class="message" *ngFor="let message of selectedGroup?.messages">
        <!-- 아바타 이미지 변경 -->
        <input type="file" (change)="changeAvatar($event)" style="display:none;" #avatarInput>
        <img [src]="getAvatarPath(message.sender)" (click)="avatarInput.click()" alt="User avatar">
        <div class="sender">{{ message.sender }}</div>
        <div class="content">{{ message.content }}</div>
        <div class="timestamp">{{ message.timestamp | date: 'shortTime' }}</div>
      </div>

      <!-- ... 이전 코드 ... -->

    </div>
    <div class="input-area-container">
      <input class="message-input" [(ngModel)]="newMessage" placeholder="Type a message...">
      <input type="file" (change)="onFileSelected($event)" />

      <button class="send-button" (click)="sendMessage()">Send</button>
    </div>
  </div>
</div>